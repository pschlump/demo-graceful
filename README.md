Demonstration Graceful Shutdown HTTP server
===========================================

This is a demonstration of how to do a graceful shutdown on a HTTP server.

The server can be configured with the `./cfg.json` file to listen to other ports.
By default it will listen to `localhost:8080` and use a 5 second delay.   To use 
a different configuration file specify the `-c` command line option:

	$ ./svr -c other-cfg.json 

For password hash requests is has a 5 second delay.   These requests would look like

	$ curl —data "password=angryMonkey" http://localhost:8080

For `/api/status` and `/api/shutdown` requests there is no delay.  It will respond to both
POST and GET requests in the same fashion.

The password request returns a SHA512 hash of the password, base64 encoded.

To do a graceful shutdown you can either use a signal and the process pid.
For example if the server is 221111 then:

	$ kill -HUP 221111

Or you can make a HTTP request for a graceful shutdown.

	$ curl -i -X GET 'http://localhost:8080/api/shutdown'

For instance, given the request (generated by curl):

 	$ curl —data "password=angryMonkey" http://localhost:8080

the server will return

 	ZEHhWB65gUlzdVwtDQArEyx+KVLzp/aTaRaPlBzYRIFj6vjFdqEb0Q5B8zVKCZ0vKbZPZklJz0Fd7su2A+gf7Q==


To Build
--------

	$ git clone https://github.com/pschlump/demo-graceful.git
	$ cd demo-graceful
	$ go build

To Test
-------

	$ make test1 test2

If that looks like it works then.

	$ make test


